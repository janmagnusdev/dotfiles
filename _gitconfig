[user]
name = Stefan Scherfke
email = stefan@sofa-rockers.org

[core]
excludesfile = $HOME/.gitignore_global
pager = delta --features "$(dm get)-mode"

[interactive]
diffFilter = delta --features "$(dm get)-mode" --color-only

[delta]
# features = side-by-side line-numbers decorations
features = line-numbers decorations
whitespace-error-style = 22 reverse

[delta "decorations"]
commit-decoration-style = bold purple box ul
file-style = bold purple ul
file-decoration-style = none

[delta "light-mode"]
light = true
syntax-theme = GitHub

[delta "dark-mode"]
light = false
syntax-theme = Visual Studio Dark+

[init]
defaultBranch = main

[pull]
# The "rebase" strategy does not work well when there are uncommited changes,
# but the "merge" strategy does.  This is more convenient and I do explit
# "git pull --rebase" when needed.
rebase = false

[push]
# "simple" is the default, but "current" automatically creates a remote
# tracking branch when you push new branches for the first time.
# This is quite convenient.
default = current

[diff]
tool = meld

[merge]
# tool = meld
tool = splice

[mergetool "splice"]
cmd = "vim -f $BASE $LOCAL $REMOTE $MERGED -c 'SpliceInit'"
trustExitCode = true

[color]
diff = auto
status = auto
branch = auto
ui = auto

[color "diff"]
meta = bold magenta

[log]
decorate = auto

[alias]
br = branch
ci = commit
co = checkout
rs = restore
st = status
sw = switch
tags = tag -l --sort=v:refname
last = log -1 HEAD
unstage = reset HEAD --
rollback = reset HEAD^
lg = log --graph --abbrev-commit --decorate --format=format:'%C(bold)%s%C(reset)%n''%C(blue)%h%C(reset) - %C(cyan)%an%C(reset) on %C(green)%aD%C(reset) %C(yellow)(%ar)%C(reset)%C(red)%d%C(reset)%n' --all
lg5 = !"git lg -5"
# Push and skip CI/CD
pushnoci = push -o ci.skip
# Push feature branch and create a MR for "main"
pushmergemain = push -o merge_request.create -o merge_request.target=main
